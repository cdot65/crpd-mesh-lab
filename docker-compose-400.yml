version: "2.4"

services:

  "1":
    build: node
    tty: true
    stdin_open: true
    sysctls:
      - net.ipv6.conf.all.disable_ipv6=0
      - net.ipv6.conf.all.forwarding=1
    privileged: true
    network_mode: none
    scale: 20
    volumes:
      - ${PWD}/juniper.conf:/juniper.conf:ro
      - ${PWD}/network-init.sh:/network-init.sh:ro

  "2":
    build: node
    tty: true
    stdin_open: true
    sysctls:
      - net.ipv6.conf.all.disable_ipv6=0
      - net.ipv6.conf.all.forwarding=1
    privileged: true
    network_mode: none
    scale: 20
    volumes:
      - ${PWD}/juniper.conf:/juniper.conf:ro
      - ${PWD}/network-init.sh:/network-init.sh:ro

  "3":
    build: node
    tty: true
    stdin_open: true
    sysctls:
      - net.ipv6.conf.all.disable_ipv6=0
      - net.ipv6.conf.all.forwarding=1
    privileged: true
    network_mode: none
    scale: 20
    volumes:
      - ${PWD}/juniper.conf:/juniper.conf:ro
      - ${PWD}/network-init.sh:/network-init.sh:ro

  "4":
    build: node
    tty: true
    stdin_open: true
    sysctls:
      - net.ipv6.conf.all.disable_ipv6=0
      - net.ipv6.conf.all.forwarding=1
    privileged: true
    network_mode: none
    scale: 20
    volumes:
      - ${PWD}/juniper.conf:/juniper.conf:ro
      - ${PWD}/network-init.sh:/network-init.sh:ro

  "5":
    build: node
    tty: true
    stdin_open: true
    sysctls:
      - net.ipv6.conf.all.disable_ipv6=0
      - net.ipv6.conf.all.forwarding=1
    privileged: true
    network_mode: none
    scale: 20
    volumes:
      - ${PWD}/juniper.conf:/juniper.conf:ro
      - ${PWD}/network-init.sh:/network-init.sh:ro

  "6":
    build: node
    tty: true
    stdin_open: true
    sysctls:
      - net.ipv6.conf.all.disable_ipv6=0
      - net.ipv6.conf.all.forwarding=1
    privileged: true
    network_mode: none
    scale: 20
    volumes:
      - ${PWD}/juniper.conf:/juniper.conf:ro
      - ${PWD}/network-init.sh:/network-init.sh:ro

  "7":
    build: node
    tty: true
    stdin_open: true
    sysctls:
      - net.ipv6.conf.all.disable_ipv6=0
      - net.ipv6.conf.all.forwarding=1
    privileged: true
    network_mode: none
    scale: 20
    volumes:
      - ${PWD}/juniper.conf:/juniper.conf:ro
      - ${PWD}/network-init.sh:/network-init.sh:ro

  "8":
    build: node
    tty: true
    stdin_open: true
    sysctls:
      - net.ipv6.conf.all.disable_ipv6=0
      - net.ipv6.conf.all.forwarding=1
    privileged: true
    network_mode: none
    scale: 20
    volumes:
      - ${PWD}/juniper.conf:/juniper.conf:ro
      - ${PWD}/network-init.sh:/network-init.sh:ro

  "9":
    build: node
    tty: true
    stdin_open: true
    sysctls:
      - net.ipv6.conf.all.disable_ipv6=0
      - net.ipv6.conf.all.forwarding=1
    privileged: true
    network_mode: none
    scale: 20
    volumes:
      - ${PWD}/juniper.conf:/juniper.conf:ro
      - ${PWD}/network-init.sh:/network-init.sh:ro

  "10":
    build: node
    tty: true
    stdin_open: true
    sysctls:
      - net.ipv6.conf.all.disable_ipv6=0
      - net.ipv6.conf.all.forwarding=1
    privileged: true
    network_mode: none
    scale: 20
    volumes:
      - ${PWD}/juniper.conf:/juniper.conf:ro
      - ${PWD}/network-init.sh:/network-init.sh:ro

  "11":
    build: node
    tty: true
    stdin_open: true
    sysctls:
      - net.ipv6.conf.all.disable_ipv6=0
      - net.ipv6.conf.all.forwarding=1
    privileged: true
    network_mode: none
    scale: 20
    volumes:
      - ${PWD}/juniper.conf:/juniper.conf:ro
      - ${PWD}/network-init.sh:/network-init.sh:ro

  "12":
    build: node
    tty: true
    stdin_open: true
    sysctls:
      - net.ipv6.conf.all.disable_ipv6=0
      - net.ipv6.conf.all.forwarding=1
    privileged: true
    network_mode: none
    scale: 20
    volumes:
      - ${PWD}/juniper.conf:/juniper.conf:ro
      - ${PWD}/network-init.sh:/network-init.sh:ro

  "13":
    build: node
    tty: true
    stdin_open: true
    sysctls:
      - net.ipv6.conf.all.disable_ipv6=0
      - net.ipv6.conf.all.forwarding=1
    privileged: true
    network_mode: none
    scale: 20
    volumes:
      - ${PWD}/juniper.conf:/juniper.conf:ro
      - ${PWD}/network-init.sh:/network-init.sh:ro

  "14":
    build: node
    tty: true
    stdin_open: true
    sysctls:
      - net.ipv6.conf.all.disable_ipv6=0
      - net.ipv6.conf.all.forwarding=1
    privileged: true
    network_mode: none
    scale: 20
    volumes:
      - ${PWD}/juniper.conf:/juniper.conf:ro
      - ${PWD}/network-init.sh:/network-init.sh:ro

  "15":
    build: node
    tty: true
    stdin_open: true
    sysctls:
      - net.ipv6.conf.all.disable_ipv6=0
      - net.ipv6.conf.all.forwarding=1
    privileged: true
    network_mode: none
    scale: 20
    volumes:
      - ${PWD}/juniper.conf:/juniper.conf:ro
      - ${PWD}/network-init.sh:/network-init.sh:ro

  "16":
    build: node
    tty: true
    stdin_open: true
    sysctls:
      - net.ipv6.conf.all.disable_ipv6=0
      - net.ipv6.conf.all.forwarding=1
    privileged: true
    network_mode: none
    scale: 20
    volumes:
      - ${PWD}/juniper.conf:/juniper.conf:ro
      - ${PWD}/network-init.sh:/network-init.sh:ro

  "17":
    build: node
    tty: true
    stdin_open: true
    sysctls:
      - net.ipv6.conf.all.disable_ipv6=0
      - net.ipv6.conf.all.forwarding=1
    privileged: true
    network_mode: none
    scale: 20
    volumes:
      - ${PWD}/juniper.conf:/juniper.conf:ro
      - ${PWD}/network-init.sh:/network-init.sh:ro

  "18":
    build: node
    tty: true
    stdin_open: true
    sysctls:
      - net.ipv6.conf.all.disable_ipv6=0
      - net.ipv6.conf.all.forwarding=1
    privileged: true
    network_mode: none
    scale: 20
    volumes:
      - ${PWD}/juniper.conf:/juniper.conf:ro
      - ${PWD}/network-init.sh:/network-init.sh:ro

  "19":
    build: node
    tty: true
    stdin_open: true
    sysctls:
      - net.ipv6.conf.all.disable_ipv6=0
      - net.ipv6.conf.all.forwarding=1
    privileged: true
    network_mode: none
    scale: 20
    volumes:
      - ${PWD}/juniper.conf:/juniper.conf:ro
      - ${PWD}/network-init.sh:/network-init.sh:ro

  "20":
    build: node
    tty: true
    stdin_open: true
    sysctls:
      - net.ipv6.conf.all.disable_ipv6=0
      - net.ipv6.conf.all.forwarding=1
    privileged: true
    network_mode: none
    scale: 20
    volumes:
      - ${PWD}/juniper.conf:/juniper.conf:ro
      - ${PWD}/network-init.sh:/network-init.sh:ro

  links:
    build: addlink
    privileged: true
    network_mode: none
    pid: "host"
    restart: "no"
    command: "honeycomb 20 20"
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock

